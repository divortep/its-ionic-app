<ion-content>
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content></ion-refresher-content>
    </ion-refresher>

    <ng-container *ngIf="availableTasks$ | async as availableTasks; else loading">
        <ng-container *ngIf="availableTasks.length; else noItems">
            <app-tasks-list
                    [tasks]="availableTasks"
                    [bgColor]="'#fdffd8'"
                    (taskSelected)="onTaskSelect($event)">
            </app-tasks-list>
        </ng-container>
    </ng-container>
</ion-content>

<ng-template #noItems>
    <div class="app-center">No tasks!</div>
</ng-template>

<ng-template #loading>
    <div class="app-center">
        <ion-spinner name="crescent"></ion-spinner>
    </div>
</ng-template>
